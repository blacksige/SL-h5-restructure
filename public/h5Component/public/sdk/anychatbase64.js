(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b(a):"function"==typeof define&&define.amd?define(b):b(a)})("undefined"==typeof self?"undefined"==typeof window?"undefined"==typeof global?this:global:window:self,function(global){"use strict";var buffer,_Base64=global.Base64,version="2.4.9";if("undefined"!=typeof module&&module.exports)try{buffer=eval("require('buffer').Buffer")}catch(a){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(a){for(var b={},c=0,d=a.length;c<d;c++)b[a.charAt(c)]=c;return b}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),fromCharCode=String.fromCharCode,cb_utob=function(a){if(2>a.length){var b=a.charCodeAt(0);return 128>b?a:2048>b?fromCharCode(192|b>>>6)+fromCharCode(128|63&b):fromCharCode(224|15&b>>>12)+fromCharCode(128|63&b>>>6)+fromCharCode(128|63&b)}var b=65536+1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320);return fromCharCode(240|7&b>>>18)+fromCharCode(128|63&b>>>12)+fromCharCode(128|63&b>>>6)+fromCharCode(128|63&b)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(a){return a.replace(re_utob,cb_utob)},cb_encode=function(a){var b=[0,2,1][a.length%3],c=a.charCodeAt(0)<<16|(1<a.length?a.charCodeAt(1):0)<<8|(2<a.length?a.charCodeAt(2):0),d=["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c>>>18),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&c>>>12),2<=b?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&c>>>6),1<=b?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&c)];return d.join("")},btoa=global.btoa?function(a){return global.btoa(a)}:function(a){return a.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(a){return(a.constructor===buffer.constructor?a:buffer.from(a)).toString("base64")}:function(a){return(a.constructor===buffer.constructor?a:new buffer(a)).toString("base64")}:function(a){return btoa(utob(a))},encode=function(a,b){return b?_encode(a+"").replace(/[+\/]/g,function(a){return"+"==a?"-":"_"}).replace(/=/g,""):_encode(a+"")},encodeURI=function(a){return encode(a,!0)},re_btou=/[À-ß][-¿]|[à-ï][-¿]{2}|[ð-÷][-¿]{3}/g,cb_btou=function(a){switch(a.length){case 4:var b=(7&a.charCodeAt(0))<<18|(63&a.charCodeAt(1))<<12|(63&a.charCodeAt(2))<<6|63&a.charCodeAt(3),c=b-65536;return fromCharCode((c>>>10)+55296)+fromCharCode((1023&c)+56320);case 3:return fromCharCode((15&a.charCodeAt(0))<<12|(63&a.charCodeAt(1))<<6|63&a.charCodeAt(2));default:return fromCharCode((31&a.charCodeAt(0))<<6|63&a.charCodeAt(1));}},btou=function(a){return a.replace(re_btou,cb_btou)},cb_decode=function(a){var b=a.length,c=(0<b?b64tab[a.charAt(0)]<<18:0)|(1<b?b64tab[a.charAt(1)]<<12:0)|(2<b?b64tab[a.charAt(2)]<<6:0)|(3<b?b64tab[a.charAt(3)]:0),d=[fromCharCode(c>>>16),fromCharCode(255&c>>>8),fromCharCode(255&c)];return d.length-=[0,0,2,1][b%4],d.join("")},atob=global.atob?function(b){return global.atob(b)}:function(b){return b.replace(/[\s\S]{1,4}/g,cb_decode)},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(b){return(b.constructor===buffer.constructor?b:buffer.from(b,"base64")).toString()}:function(b){return(b.constructor===buffer.constructor?b:new buffer(b,"base64")).toString()}:function(b){return btou(atob(b))},decode=function(b){return _decode((b+"").replace(/[-_]/g,function(a){return"-"==a?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var a=global.Base64;return global.Base64=_Base64,a};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"==typeof Object.defineProperty){var noEnum=function(a){return{value:a,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum(function(){return decode(this)})),Object.defineProperty(String.prototype,"toBase64",noEnum(function(a){return encode(this,a)})),Object.defineProperty(String.prototype,"toBase64URI",noEnum(function(){return encode(this,!0)}))}}return global.Meteor&&(Base64=global.Base64),"undefined"!=typeof module&&module.exports?module.exports.Base64=global.Base64:"function"==typeof define&&define.amd&&define([],function(){return global.Base64}),{Base64:global.Base64}});